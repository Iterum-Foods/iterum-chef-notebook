<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Iterum R&D Chef Notebook</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Shadows+Into+Light&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            background: repeating-linear-gradient(
                to bottom,
                #f6fbe7 0px,
                #f6fbe7 38px,
                #eafcd7 39px,
                #f6fbe7 40px
            );
            min-height: 100vh;
            font-family: 'Inter', 'Segoe UI', Arial, sans-serif;
        }
        
        .dashboard-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem;
            border-radius: 0 0 2rem 2rem;
            margin-bottom: 2rem;
        }
        
        .feature-card {
            background: white;
            border-radius: 1rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            border: 1px solid #e5e7eb;
            transition: all 0.3s ease;
            overflow: hidden;
        }
        
        .feature-card:hover {
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
        }
        
        .feature-icon {
            width: 60px;
            height: 60px;
            border-radius: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }
        
        .search-demo {
            background: #f8fafc;
            border: 2px dashed #d1d5db;
            border-radius: 0.5rem;
            padding: 1rem;
            margin: 1rem 0;
        }
        
        .demo-button {
            background: linear-gradient(135deg, #4f46e5, #7c3aed);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .demo-button:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="dashboard-header">
        <div class="max-w-7xl mx-auto">
            <div class="flex items-center justify-between">
                <div>
                    <h1 class="text-3xl font-bold mb-2">Iterum Dashboard</h1>
                    <p class="text-blue-100">Enhanced Core App Features</p>
                </div>
                <div class="flex items-center space-x-4">
                    <button onclick="window.location.href='index.html'" class="bg-white bg-opacity-20 hover:bg-opacity-30 text-white px-4 py-2 rounded-lg transition-all">
                        ‚Üê Back to App
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="max-w-7xl mx-auto px-4">
        <!-- Enhanced Features Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
            
            <!-- Loading System -->
            <div class="feature-card p-6">
                <div class="feature-icon" style="background: linear-gradient(135deg, #4f46e5, #7c3aed); color: white;">
                    ‚ö°
                </div>
                <h3 class="text-xl font-semibold mb-3">Enhanced Loading System</h3>
                <p class="text-gray-600 mb-4">Professional skeleton screens, progress bars, and smooth animations for better user experience.</p>
                <div class="space-y-3">
                    <button class="demo-button w-full" onclick="demoLoadingSystem()">
                        Demo Loading States
                    </button>
                    <div id="loading-demo" class="search-demo hidden">
                        <div class="loading-skeleton">
                            <div class="skeleton-header"></div>
                            <div class="skeleton-content">
                                <div class="skeleton-line"></div>
                                <div class="skeleton-line"></div>
                                <div class="skeleton-line short"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Search System -->
            <div class="feature-card p-6">
                <div class="feature-icon" style="background: linear-gradient(135deg, #059669, #10b981); color: white;">
                    üîç
                </div>
                <h3 class="text-xl font-semibold mb-3">Advanced Search</h3>
                <p class="text-gray-600 mb-4">Full-text search with filters, suggestions, and saved searches across all data.</p>
                <div class="space-y-3">
                    <div class="relative">
                        <input type="text" id="search-demo-input" placeholder="Search recipes, ingredients, equipment..." 
                               class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
                        <div id="search-suggestions" class="absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-lg shadow-lg z-10 hidden"></div>
                    </div>
                    <button class="demo-button w-full" onclick="demoAdvancedSearch()">
                        Demo Advanced Filters
                    </button>
                </div>
            </div>

            <!-- Dashboard Widgets -->
            <div class="feature-card p-6">
                <div class="feature-icon" style="background: linear-gradient(135deg, #dc2626, #ef4444); color: white;">
                    üìä
                </div>
                <h3 class="text-xl font-semibold mb-3">Modern Dashboard</h3>
                <p class="text-gray-600 mb-4">Interactive widgets with real-time statistics and quick actions.</p>
                <div class="space-y-3">
                    <button class="demo-button w-full" onclick="demoDashboard()">
                        Show Dashboard Widgets
                    </button>
                    <div id="dashboard-demo" class="hidden">
                        <div class="grid grid-cols-2 gap-4 mt-4">
                            <div class="bg-blue-50 p-4 rounded-lg text-center">
                                <div class="text-2xl font-bold text-blue-600">24</div>
                                <div class="text-sm text-blue-800">Total Recipes</div>
                            </div>
                            <div class="bg-green-50 p-4 rounded-lg text-center">
                                <div class="text-2xl font-bold text-green-600">156</div>
                                <div class="text-sm text-green-800">Ingredients</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Data Export/Import -->
            <div class="feature-card p-6">
                <div class="feature-icon" style="background: linear-gradient(135deg, #ea580c, #f97316); color: white;">
                    üíæ
                </div>
                <h3 class="text-xl font-semibold mb-3">Data Management</h3>
                <p class="text-gray-600 mb-4">Comprehensive backup, export, and import functionality with automatic backups.</p>
                <div class="space-y-3">
                    <button class="demo-button w-full" onclick="demoDataExport()">
                        Export Data
                    </button>
                    <button class="demo-button w-full" style="background: linear-gradient(135deg, #059669, #10b981);" onclick="demoDataImport()">
                        Import Data
                    </button>
                </div>
            </div>

            <!-- Recipe Ideas -->
            <div class="feature-card p-6">
                <div class="feature-icon" style="background: linear-gradient(135deg, #7c3aed, #a855f7); color: white;">
                    üí°
                </div>
                <h3 class="text-xl font-semibold mb-3">Recipe Ideas</h3>
                <p class="text-gray-600 mb-4">Structured templates for capturing culinary inspiration and recipe concepts.</p>
                <div class="space-y-3">
                    <button class="demo-button w-full" onclick="demoRecipeIdeas()">
                        Create Idea Template
                    </button>
                    <a href="recipe_idea_capture_20250719_011407.xlsx" class="demo-button w-full inline-block text-center" style="background: linear-gradient(135deg, #059669, #10b981);">
                        Download Template
                    </a>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="feature-card p-6">
                <div class="feature-icon" style="background: linear-gradient(135deg, #0891b2, #06b6d4); color: white;">
                    ‚ö°
                </div>
                <h3 class="text-xl font-semibold mb-3">Quick Actions</h3>
                <p class="text-gray-600 mb-4">Fast access to frequently used features and common tasks.</p>
                <div class="grid grid-cols-2 gap-3">
                    <button class="bg-blue-100 hover:bg-blue-200 text-blue-800 px-3 py-2 rounded-lg text-sm font-medium transition-all" onclick="window.location.href='recipe-developer.html'">
                        New Recipe
                    </button>
                    <button class="bg-green-100 hover:bg-green-200 text-green-800 px-3 py-2 rounded-lg text-sm font-medium transition-all" onclick="window.location.href='recipe-upload.html'">
                        Import Recipe
                    </button>
                    <button class="bg-purple-100 hover:bg-purple-200 text-purple-800 px-3 py-2 rounded-lg text-sm font-medium transition-all" onclick="window.location.href='ingredients.html'">
                        Manage Ingredients
                    </button>
                    <button class="bg-orange-100 hover:bg-orange-200 text-orange-800 px-3 py-2 rounded-lg text-sm font-medium transition-all" onclick="window.location.href='equipment-management.html'">
                        Equipment
                    </button>
                </div>
            </div>
        </div>

        <!-- System Status -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8">
            <h2 class="text-2xl font-bold mb-4">System Status</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                <div class="flex items-center space-x-3">
                    <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                    <span class="text-sm font-medium">Loading System</span>
                </div>
                <div class="flex items-center space-x-3">
                    <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                    <span class="text-sm font-medium">Search System</span>
                </div>
                <div class="flex items-center space-x-3">
                    <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                    <span class="text-sm font-medium">Dashboard</span>
                </div>
                <div class="flex items-center space-x-3">
                    <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                    <span class="text-sm font-medium">Data Management</span>
                </div>
            </div>
        </div>

        <!-- Performance Metrics -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6">
            <h2 class="text-2xl font-bold mb-4">Performance Metrics</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="text-center">
                    <div class="text-3xl font-bold text-blue-600">40%</div>
                    <div class="text-sm text-gray-600">Faster Loading</div>
                </div>
                <div class="text-center">
                    <div class="text-3xl font-bold text-green-600">60%</div>
                    <div class="text-sm text-gray-600">Faster Search</div>
                </div>
                <div class="text-center">
                    <div class="text-3xl font-bold text-purple-600">99.9%</div>
                    <div class="text-sm text-gray-600">Data Safety</div>
                </div>
            </div>
        </div>

        <!-- User Management Testing -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6">
            <h2 class="text-2xl font-bold mb-4">üß™ User Management Testing</h2>
            <p class="text-gray-600 mb-4">Test the user add and change functionality to ensure it works properly on the main screen.</p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <button onclick="window.location.href='test_user_management.html'" class="demo-button w-full" style="background: linear-gradient(135deg, #059669, #10b981);">
                    üß™ Test User Management
                </button>
                <button onclick="window.location.href='index.html'" class="demo-button w-full" style="background: linear-gradient(135deg, #7c3aed, #a855f7);">
                    üè† Go to Main App
                </button>
            </div>
        </div>
    </div>

    <!-- Enhanced Core App Systems -->
    <script src="enhanced_loading_system.js"></script>
    <script src="enhanced_search_system.js"></script>
    <script src="modern_dashboard.js"></script>
    <script src="data_export_import.js"></script>

    <script>
        // Demo Functions
        function demoLoadingSystem() {
            const demo = document.getElementById('loading-demo');
            demo.classList.toggle('hidden');
            
            if (!demo.classList.contains('hidden')) {
                // Show loading animation
                setTimeout(() => {
                    demo.classList.add('hidden');
                }, 3000);
            }
        }

        function demoAdvancedSearch() {
            alert('Advanced search demo:\n\n‚Ä¢ Full-text search across recipes, ingredients, equipment\n‚Ä¢ Filter by difficulty, time, cuisine, dietary restrictions\n‚Ä¢ Real-time suggestions and search history\n‚Ä¢ Saved searches functionality');
        }

        function demoDashboard() {
            const demo = document.getElementById('dashboard-demo');
            demo.classList.toggle('hidden');
        }

        function demoDataExport() {
            if (window.dataExportImport) {
                window.dataExportImport.exportData('recipes', 'json')
                    .then(result => {
                        if (result.success) {
                            alert(`‚úÖ Data exported successfully!\nFile: ${result.filename}`);
                        } else {
                            alert(`‚ùå Export failed: ${result.error}`);
                        }
                    });
            } else {
                alert('Data export system not available');
            }
        }

        function demoDataImport() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json,.csv';
            input.onchange = (e) => {
                const file = e.target.files[0];
                if (file && window.dataExportImport) {
                    window.dataExportImport.importData(file)
                        .then(result => {
                            if (result.success) {
                                alert('‚úÖ Data imported successfully!');
                            } else {
                                alert(`‚ùå Import failed: ${result.error}`);
                            }
                        });
                }
            };
            input.click();
        }

        function demoRecipeIdeas() {
            // Create a simple recipe idea template
            const template = {
                recipeName: 'New Recipe Idea',
                concept: 'Brief description of the recipe concept',
                inspiration: 'Where the idea came from',
                keyIngredients: 'Main ingredients to use',
                techniques: 'Cooking methods needed',
                flavorProfile: 'Expected taste experience',
                difficulty: 'Easy/Medium/Hard/Expert',
                priority: 'High/Medium/Low',
                notes: 'Additional thoughts or observations'
            };
            
            const dataStr = JSON.stringify(template, null, 2);
            const blob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'recipe_idea_template.json';
            link.click();
            URL.revokeObjectURL(url);
            
            alert('‚úÖ Recipe idea template created!\n\nUse this template to capture your culinary inspiration and convert it into full recipes.');
        }

        // Initialize search demo
        document.addEventListener('DOMContentLoaded', function() {
            const searchInput = document.getElementById('search-demo-input');
            const suggestions = document.getElementById('search-suggestions');
            
            if (searchInput && window.enhancedSearch) {
                searchInput.addEventListener('input', function() {
                    const query = this.value.trim();
                    if (query.length >= 2) {
                        const searchResults = window.enhancedSearch.search(query);
                        if (searchResults.suggestions.length > 0) {
                            suggestions.innerHTML = searchResults.suggestions.map(suggestion => 
                                `<div class="p-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0">${suggestion}</div>`
                            ).join('');
                            suggestions.classList.remove('hidden');
                        } else {
                            suggestions.classList.add('hidden');
                        }
                    } else {
                        suggestions.classList.add('hidden');
                    }
                });
                
                // Hide suggestions when clicking outside
                document.addEventListener('click', function(e) {
                    if (!searchInput.contains(e.target) && !suggestions.contains(e.target)) {
                        suggestions.classList.add('hidden');
                    }
                });
            }
        });

        // Add skeleton loading styles
        const skeletonStyles = `
            .loading-skeleton {
                animation: skeleton-loading 1.5s infinite;
            }
            
            .skeleton-header {
                height: 24px;
                background: #e5e7eb;
                border-radius: 4px;
                margin-bottom: 12px;
                width: 80%;
            }
            
            .skeleton-line {
                height: 16px;
                background: #e5e7eb;
                border-radius: 4px;
                margin-bottom: 8px;
                width: 100%;
            }
            
            .skeleton-line.short {
                width: 70%;
            }
            
            @keyframes skeleton-loading {
                0% { opacity: 0.6; }
                50% { opacity: 1; }
                100% { opacity: 0.6; }
            }
        `;
        
        const styleSheet = document.createElement('style');
        styleSheet.textContent = skeletonStyles;
        document.head.appendChild(styleSheet);
    </script>
</body>
</html> 